<!-- user information -->
<ngx-skeleton-loader count="22" *ngIf="!isProfile"></ngx-skeleton-loader>
<ng-container *ngIf="isProfile">
  <div class="card shadow-sm mb-4">
    <div class="card-header">
      <div class="row">
        <div class="col-auto">
          <figure class="avatar avatar-60 rounded-10">
            <img src="assets/img/user1.jpg" alt="" />
          </figure>
        </div>
        <div class="col px-0 align-self-center">
          <h3 class="mb-0 text-color-theme">{{ profileData?.fullname }}</h3>
          <p class="text-muted">{{ profileData?.email }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Dark mode switch -->
  <div class="row mb-4">
    <div class="col-12">
      <div class="card shadow-sm">
        <div class="card-body">
          <div class="form-check form-switch">
            <input
              class="form-check-input"
              type="checkbox"
              id="darkmodeswitch"
              (click)="doCheck()"
            />
            <label class="form-check-label text-muted px-2" for="darkmodeswitch"
              >Activate Dark Mode</label
            >
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Email Notifications settings -->
  <div class="row mb-3">
    <div class="col">
      <h6>Notification Receive</h6>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="card shadow-sm mb-4">
        <ul class="list-group list-group-flush bg-none">
          <li class="list-group-item">
            <div class="row">
              <div class="col-auto pr-0 align-self-center text-end">
                <div class="form-check form-switch">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="settingscheck1"
                    checked
                    [disabled]="true"
                  />
                  <label class="form-check-label" for="settingscheck1"></label>
                </div>
              </div>
              <div class="col ps-0">
                <h6 class="mb-1">Email Notification</h6>
                <p class="text-muted small">
                  Default all notification will be sent
                </p>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- profile information -->

  <div class="row mb-3">
    <div class="col">
      <h6>Profile Information</h6>
    </div>
  </div>
  <form
    (ngSubmit)="saveProfile()"
    [formGroup]="profileForm"
    class="d-flex flex-column justify-content-end h-100"
    style="overflow: scroll"
  >
    <div class="row h-100 mb-4">
      <div class="col-12 col-md-6 col-lg-4">
        <div class="form-group form-floating mb-3">
          <input
            type="text"
            class="form-control"
            value="Maxartkiller"
            placeholder="Name"
            id="names"
            formControlName="fullname"
          />
          <label for="names">FullName</label>
        </div>
        <div
          *ngIf="submitted && profileForm.controls['fullname'].errors"
          class="invalid-feed"
        >
          <div *ngIf="profileForm.controls['fullname'].errors['required']">
            Fullname is required
          </div>
        </div>
      </div>
      <div class="col-12 col-md-6 col-lg-4">
        <div class="form-group form-floating mb-3">
          <input
            type="email"
            class="form-control"
            value="info@maxartkiller.com"
            placeholder="Email"
            id="email"
            formControlName="email"
          />
          <label for="email">Email</label>
        </div>
        <div
          *ngIf="submitted && profileForm.controls['email'].errors"
          class="invalid-feed"
        >
          <div *ngIf="profileForm.controls['email'].errors['required']">
            Email is required
          </div>
          <div *ngIf="profileForm.controls['email'].errors['email']">
            Email must be a valid email address
          </div>
        </div>
      </div>
      <div class="col-12 col-md-6 col-lg-4">
        <div class="form-group form-floating mb-3">
          <input
            type="text"
            class="form-control"
            mask="(000) 000-0000"
            placeholder="Phone"
            formControlName="phone"
            id="emailphone"
          />
          <label for="phone">Phone</label>
        </div>
      </div>
      <div
        *ngIf="submitted && profileForm.controls['phone'].errors"
        class="invalid-feed"
      >
        <div *ngIf="profileForm.controls['phone'].errors['required']">
          Phone is required
        </div>
      </div>
    </div>
    <div class="row h-100">
      <div class="col-12 mb-4">
        <button
          type="submit"
          [disabled]="profileForm.invalid"
          class="btn btn-default btn-lg w-100"
        >
          Update
        </button>
      </div>
    </div>
  </form>

  <!-- change password -->
  <div class="row mb-3">
    <div class="col">
      <h6>Change Password</h6>
    </div>
  </div>
  <form
    (ngSubmit)="savePass()"
    [formGroup]="passwordForm"
    class="d-flex flex-column justify-content-end h-100"
    style="overflow: scroll"
  >
    <div class="row h-100 mb-4">
      <div class="col-12 col-md-6 col-lg-4">
        <div class="form-floating mb-3">
          <input
            type="password"
            class="form-control"
            placeholder="Current Password"
            id="currentPassword"
            formControlName="currentPassword"
          />
          <label for="password">Current Password</label>
          <div
            *ngIf="
              submittedPass && passwordForm.controls['currentPassword'].errors
            "
            class="invalid-feed"
          >
            <div
              *ngIf="
                passwordForm.controls['currentPassword'].errors['required']
              "
            >
              Current Password is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-6 col-lg-4">
        <div class="form-floating mb-3">
          <input
            type="password"
            class="form-control"
            placeholder="Password"
            id="newPassword"
            formControlName="newPassword"
          />
          <label for="password">New Password</label>
          <div
            *ngIf="submittedPass && passwordForm.controls['newPassword'].errors"
            class="invalid-feed"
          >
            <div
              *ngIf="passwordForm.controls['newPassword'].errors['required']"
            >
              Current Password is required
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-6 col-lg-4">
        <div class="form-floating">
          <input
            type="password"
            class="form-control"
            placeholder="Confirm Password"
            id="confirmPassword"
            formControlName="confirmPassword"
          />
          <label for="confirmpassword">Confirm Password</label>
          <div
            *ngIf="
              submittedPass && passwordForm.controls['confirmPassword'].errors
            "
            class="invalid-feed"
          >
            <div
              *ngIf="
                passwordForm.controls['confirmPassword'].errors['required']
              "
            >
              Current Password is required
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row h-100">
      <div class="col-12 mb-4">
        <button
          type="submit"
          [disabled]="passwordForm.invalid"
          class="btn btn-default btn-lg w-100"
        >
          Update
        </button>
      </div>
    </div>
  </form>
</ng-container>
